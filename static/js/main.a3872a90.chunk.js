(this.webpackJsonplabirint=this.webpackJsonplabirint||[]).push([[0],{21:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var s=n(0),c=n.n(s),i=n(6),o=n.n(i),a=(n(21),n(2)),r=n(4),u=n(14),l=n(15),b=n(3),m="SET_GAME_STATE",j="TOGGLE_POPUP",p="SET_GAME_STATUS",f="TOGGLE_CLICKABLE",O=function(){var t=["up","right","down","left"];return t[Math.floor(Math.random()*t.length)]},h={moves:15,rows:4,columns:4},d={moves:10,rows:3,columns:3},_={moves:15,rows:3,columns:3},v={moveHistory:[],moves:10,rows:3,columns:3,countDown:300,tiles:0,selectedPosition:null,finishPosition:null,startPosition:null,popupOpened:!1,gameStatus:"",isClickable:!1},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var n=e.payload,s=n.moveHistory,c=n.startPosition,i=n.finishPosition,o=n.tiles;return Object(b.a)(Object(b.a)({},t),{},{moveHistory:s,startPosition:c,finishPosition:i,tiles:o});case p:var a=e.payload.gameStatus;return Object(b.a)(Object(b.a)({},t),{},{gameStatus:a});case j:return Object(b.a)(Object(b.a)({},t),{},{popupOpened:!t.popupOpened});case f:return Object(b.a)(Object(b.a)({},t),{},{isClickable:!t.isClickable});default:return t}},x=Object(r.createStore)(g,Object(u.composeWithDevTools)(Object(r.applyMiddleware)(l.a))),w=(n(28),n(29),n(8)),P=(n(30),n.p+"static/media/like.4f954970.svg"),C=n.p+"static/media/dislike.99ef78fa.svg",y=function(t){return{type:p,payload:{gameStatus:t}}},S=function(t){var e=t.moves,n=t.countDown,s=t.rows,c=t.columns,i=s*c,o=function(t,e){var n=Math.ceil(t),s=Math.floor(e);return Math.floor(Math.random()*(s-n)+n)}(1,i),a=function(t){for(var e=t.startPosition,n=t.rows,s=t.columns,c=t.tiles,i=e,o=t.moves,a=[],r=1;r<=o;r++){var u=O();switch(u){case"up":i>n?(a.push(u),i-=n):o++;break;case"down":i<=c-n?(a.push(u),i+=n):o++;break;case"right":i%s!==0?(a.push(u),i+=1):o++;break;case"left":i%s!==1?(a.push(u),i-=1):o++}}return{moveHistory:a,finishPosition:i}}({startPosition:o,rows:s,columns:c,tiles:i,moves:e}),r=a.moveHistory,u=a.finishPosition;return{type:m,payload:{moveHistory:r,finishPosition:u,countDown:n,tiles:i,startPosition:o}}},T=function(){return{type:j}},N=function(){return{type:f}},k=n(1),E=function(t){var e=t.position,n=Object(a.c)((function(t){return{startPosition:t.startPosition,finishPosition:t.finishPosition,gameStatus:t.gameStatus}})),c=n.startPosition,i=n.finishPosition,o=n.gameStatus,r=Object(a.b)(),u=Object(s.useState)(""),l=Object(w.a)(u,2),b=l[0],m=l[1];return Object(s.useEffect)((function(){""!==b&&r(y(b))}),[b]),Object(s.useEffect)((function(){""===o&&m("")}),[o]),Object(k.jsx)("li",{className:"Tile",children:Object(k.jsxs)("button",{type:"button",className:"Tile__button focus-effect",onClick:function(){return t=e,r(N()),m(t===i?"win":"lose"),void setTimeout((function(){return r(T())}),2e3);var t},children:[Object(k.jsx)("p",{className:"Tile__text\n          ".concat(e===c&&""===b?e===i&&"lose"===o?"":"Tile__text_start_vis":""),children:"\u0421\u0442\u0430\u0440\u0442"}),Object(k.jsx)("p",{className:"Tile__text\n          ".concat(e===i&&"lose"===o?"Tile__text_finish_vis":""),children:"\u0424\u0438\u043d\u0438\u0448"}),Object(k.jsx)("img",{className:"Tile__image\n          ".concat(e!==i&&"lose"===b?"Tile__image_lose_vis":""),src:C,alt:"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(k.jsx)("img",{className:"Tile__image\n          ".concat(e===i&&"win"===b?"Tile__image_win_vis":""),src:P,alt:"\u043f\u043e\u0431\u0435\u0434\u0430"})]})})},A=function(){var t=Object(a.c)((function(t){return{tiles:t.tiles,isClickable:t.isClickable}})),e=t.tiles,n=t.isClickable,s=Array(e).fill().map((function(t,e){return e+1}));return Object(k.jsx)("ul",{className:"Tiles".concat(16===e?" Tiles_hard":"").concat(n?"":" Tiles_blocked"),children:s.map((function(t){return Object(k.jsx)(E,{position:t},t)}))})},M=n(16),H=(n(32),n(33),function(t){var e=t.direction;return Object(k.jsx)("li",{className:"Arrow Arrow_".concat(e),children:Object(k.jsx)("svg",{width:"59",height:"59",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M54.2808 33C54.2808 34.1046 53.3716 35 52.25 35H17.9464C23.7676 42.1112 27.6975 45.8639 34.2135 50.6464C35.1128 51.3064 35.2985 52.5594 34.6283 53.4451C33.9581 54.3308 32.6858 54.5137 31.7865 53.8537C23.9775 48.1223 19.6571 43.7223 12.148 34.2291C11.5878 33.5209 11.5754 32.532 12.1175 31.8104C18.6491 23.1171 22.776 18.4997 31.8178 12.1239C32.7297 11.4808 33.9982 11.6876 34.6512 12.5857C35.3041 13.4838 35.0941 14.7331 34.1822 15.3761C26.7381 20.6254 22.8627 24.5371 17.8191 31L52.25 31C53.3716 31 54.2808 31.8954 54.2808 33Z"})})})}),D=function(){var t=Object(a.c)((function(t){return{countDown:t.countDown,moveHistory:t.moveHistory,gameStatus:t.gameStatus}})),e=t.countDown,n=t.moveHistory,c=t.gameStatus,i=Object(a.b)(),o=Object(s.useState)([]),r=Object(w.a)(o,2),u=r[0],l=r[1];return Object(s.useEffect)((function(){""===c&&l([])}),[c]),Object(s.useEffect)((function(){u.length<n.length&&setTimeout((function(){var t=Object(k.jsx)(H,{direction:n[u.length]},u.length);l([].concat(Object(M.a)(u),[t])),u.length===n.length-1&&i(N())}),e)}),[u]),Object(k.jsx)("ul",{className:"Arrows",children:u})},G=(n(34),Object(s.memo)((function(){var t=Object(a.c)((function(t){return{popupOpened:t.popupOpened,gameStatus:t.gameStatus}})),e=t.popupOpened,n=t.gameStatus,s=Object(a.b)(),c=function(t){var e=t.rows,n=t.columns,c=t.moves;s(S({moves:c,rows:e,columns:n})),s(y("")),s(T())};return Object(k.jsxs)("div",{className:"Popup ".concat(e?"Popup_opened":""),children:[Object(k.jsx)("h1",{className:"Popup__title",children:"win"===n?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(k.jsx)("p",{className:"Popup__subtitle",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:"}),Object(k.jsxs)("ul",{className:"Popup__restart-menu",children:[Object(k.jsx)("li",{className:"Popup__restart-menu-item",children:Object(k.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(d)},children:"\u041b\u0435\u0433\u043a\u043e"})}),Object(k.jsx)("li",{className:"Popup__restart-menu-item",children:Object(k.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(_)},children:"\u0421\u0440\u0435\u0434\u043d\u0435"})}),Object(k.jsx)("li",{className:"Popup__restart-menu-item",children:Object(k.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(h)},children:"\u0421\u043b\u043e\u0436\u043d\u043e"})})]})]})}))),L=function(){var t=Object(a.c)((function(t){return{gameStatus:t.gameStatus,isClickable:t.isClickable}})),e=t.isClickable,n=t.gameStatus,c=Object(a.b)();return Object(s.useEffect)((function(){c(S({moves:10,countDown:300,rows:3,columns:3}))}),[]),Object(k.jsxs)("main",{className:"App",children:[Object(k.jsx)("h1",{className:"App__title",children:"\u041b\u0430\u0431\u0438\u0440\u0438\u043d\u0442"}),Object(k.jsx)("p",{className:"App__subtitle",children:e?"\u041f\u0440\u0438\u0448\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u043b\u0438\u043a\u0430\u0442\u044c":""!==n?"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430":"\u0414\u0432\u0438\u0433\u0430\u0439\u0441\u044f \u043c\u044b\u0441\u043b\u0435\u043d\u043d\u043e \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430\u043c."}),Object(k.jsx)(A,{}),Object(k.jsx)(D,{}),Object(k.jsx)(G,{})]})};o.a.render(Object(k.jsx)(a.a,{store:x,children:Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(L,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a3872a90.chunk.js.map