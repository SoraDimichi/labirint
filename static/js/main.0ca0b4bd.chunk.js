(this.webpackJsonplabirint=this.webpackJsonplabirint||[]).push([[0],{20:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),i=n(6),o=n.n(i),r=(n(20),n(2)),a=n(4),u=n(13),l=n(3),b="GAME/SET_GAME_STATE",j="GAME/SET_GAME_STATUS",m="APP/TOGGLE_POPUP",p="APP/TOGGLE_CLICKABLE",f=function(){var t=["up","right","down","left"];return t[Math.floor(Math.random()*t.length)]},O=null,h="win",d="lose",_={moves:15,rows:4,columns:4},v={moves:10,rows:3,columns:3},g={moves:15,rows:3,columns:3},P={moveHistory:[],moves:10,rows:3,columns:3,countDown:1500,tiles:0,selectedPosition:null,finishPosition:null,startPosition:null,gameStatus:O},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:var n=e.payload,c=n.moveHistory,s=n.startPosition,i=n.finishPosition,o=n.tiles;return Object(l.a)(Object(l.a)({},t),{},{moveHistory:c,startPosition:s,finishPosition:i,tiles:o});case j:var r,a=e.payload.selectedPosition;return r=null===a?O:a===t.finishPosition?h:d,Object(l.a)(Object(l.a)({},t),{},{gameStatus:r,selectedPosition:a});default:return t}},w={isClickable:!1,popupOpened:!1},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return Object(l.a)(Object(l.a)({},t),{},{popupOpened:!t.popupOpened});case p:return Object(l.a)(Object(l.a)({},t),{},{isClickable:!t.isClickable});default:return t}},y=Object(a.combineReducers)({game:x,app:T}),C=Object(a.createStore)(y,Object(u.devToolsEnhancer)()),N=(n(27),n(28),n(29),n.p+"static/media/like.4f954970.svg"),k=n.p+"static/media/dislike.99ef78fa.svg",A=function(t){return{type:j,payload:{selectedPosition:t}}},E=function(t){var e=t.moves,n=t.rows,c=t.columns,s=n*c,i=function(t,e){var n=Math.ceil(t),c=Math.floor(e);return Math.floor(Math.random()*(c-n)+n)}(1,s),o=function(t){for(var e=t.startPosition,n=t.rows,c=t.columns,s=t.tiles,i=e,o=t.moves,r=[],a=1;a<=o;a++){var u=f();switch(u){case"up":i>n?(r.push(u),i-=n):o++;break;case"down":i<=s-n?(r.push(u),i+=n):o++;break;case"right":i%c!==0?(r.push(u),i+=1):o++;break;case"left":i%c!==1?(r.push(u),i-=1):o++}}return{moveHistory:r,finishPosition:i}}({startPosition:i,rows:n,columns:c,tiles:s,moves:e}),r=o.moveHistory,a=o.finishPosition;return{type:b,payload:{moveHistory:r,finishPosition:a,tiles:s,startPosition:i}}},S=function(){return{type:m}},M=function(){return{type:p}},G=n(1),H=function(t){var e=t.position,n=Object(r.b)(),c=Object(r.c)((function(t){return t.game.startPosition})),s=Object(r.c)((function(t){return t.game.finishPosition})),i=Object(r.c)((function(t){return t.game.selectedPosition})),o=Object(r.c)((function(t){return t.game.gameStatus}));return Object(G.jsx)("li",{className:"Tile",children:Object(G.jsxs)("button",{type:"button",className:"Tile__button focus-effect",onClick:function(){return t=e,n(M()),n(A(t)),void setTimeout((function(){return n(S())}),2e3);var t},children:[Object(G.jsx)("p",{className:"Tile__text\n          ".concat(e===c&&e!==i?e===s&&o!==O?"":"Tile__text_start_vis":""),children:"\u0421\u0442\u0430\u0440\u0442"}),Object(G.jsx)("p",{className:"Tile__text\n          ".concat(e===s&&o===d?"Tile__text_finish_vis":""),children:"\u0424\u0438\u043d\u0438\u0448"}),Object(G.jsx)("img",{className:"Tile__image\n          ".concat(e!==s&&e===i&&o===d?"Tile__image_lose_vis":""),src:k,alt:"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(G.jsx)("img",{className:"Tile__image\n          ".concat(e===s&&e===i&&o===h?"Tile__image_win_vis":""),src:N,alt:"\u043f\u043e\u0431\u0435\u0434\u0430"})]})})},L=function(){var t=Object(r.c)((function(t){return t.app.isClickable})),e=Object(r.c)((function(t){return t.game.tiles})),n=Array(e).fill().map((function(t,e){return e+1}));return Object(G.jsx)("ul",{className:"Tiles".concat(16===e?" Tiles_hard":"").concat(t?"":" Tiles_blocked"),children:n.map((function(t){return Object(G.jsx)(H,{position:t},t)}))})},D=n(14),B=n(15),I=(n(31),n(32),function(t){var e=t.direction;return Object(G.jsx)("li",{className:"Arrow Arrow_".concat(e),children:Object(G.jsx)("svg",{width:"59",height:"59",xmlns:"http://www.w3.org/2000/svg",children:Object(G.jsx)("path",{d:"M54.2808 33C54.2808 34.1046 53.3716 35 52.25 35H17.9464C23.7676 42.1112 27.6975 45.8639 34.2135 50.6464C35.1128 51.3064 35.2985 52.5594 34.6283 53.4451C33.9581 54.3308 32.6858 54.5137 31.7865 53.8537C23.9775 48.1223 19.6571 43.7223 12.148 34.2291C11.5878 33.5209 11.5754 32.532 12.1175 31.8104C18.6491 23.1171 22.776 18.4997 31.8178 12.1239C32.7297 11.4808 33.9982 11.6876 34.6512 12.5857C35.3041 13.4838 35.0941 14.7331 34.1822 15.3761C26.7381 20.6254 22.8627 24.5371 17.8191 31L52.25 31C53.3716 31 54.2808 31.8954 54.2808 33Z"})})})}),J=function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.game.countDown})),n=Object(r.c)((function(t){return t.game.moveHistory})),s=Object(r.c)((function(t){return t.game.gameStatus})),i=Object(c.useState)([]),o=Object(B.a)(i,2),a=o[0],u=o[1];return Object(c.useEffect)((function(){s===O&&u([])}),[s]),Object(c.useEffect)((function(){a.length<n.length&&setTimeout((function(){var e=Object(G.jsx)(I,{direction:n[a.length]},a.length);u([].concat(Object(D.a)(a),[e])),a.length===n.length-1&&t(M())}),e)}),[a]),Object(G.jsx)("ul",{className:"Arrows",children:a})},U=(n(33),Object(c.memo)((function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.app.popupOpened})),n=Object(r.c)((function(t){return t.game.gameStatus})),c=function(e){var n=e.rows,c=e.columns,s=e.moves;t(E({moves:s,rows:n,columns:c})),t(A(null)),t(S())};return Object(G.jsxs)("div",{className:"Popup ".concat(e?"Popup_opened":""),children:[Object(G.jsx)("h1",{className:"Popup__title",children:"win"===n?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(G.jsx)("p",{className:"Popup__subtitle",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:"}),Object(G.jsxs)("ul",{className:"Popup__restart-menu",children:[Object(G.jsx)("li",{className:"Popup__restart-menu-item",children:Object(G.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(v)},children:"\u041b\u0435\u0433\u043a\u043e"})}),Object(G.jsx)("li",{className:"Popup__restart-menu-item",children:Object(G.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(g)},children:"\u0421\u0440\u0435\u0434\u043d\u0435"})}),Object(G.jsx)("li",{className:"Popup__restart-menu-item",children:Object(G.jsx)("button",{type:"button",className:"Popup__restart-menu-button focus-effect",onClick:function(){return c(_)},children:"\u0421\u043b\u043e\u0436\u043d\u043e"})})]})]})}))),K=function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.app.isClickable})),n=Object(r.c)((function(t){return t.game.gameStatus}));return Object(c.useEffect)((function(){t(E({moves:10,countDown:1500,rows:3,columns:3}))}),[]),Object(G.jsxs)("main",{className:"App",children:[Object(G.jsx)("h1",{className:"App__title",children:"\u041b\u0430\u0431\u0438\u0440\u0438\u043d\u0442"}),Object(G.jsx)("p",{className:"App__subtitle",children:e?"\u041f\u0440\u0438\u0448\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u043b\u0438\u043a\u0430\u0442\u044c":n!==O?"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430":"\u0414\u0432\u0438\u0433\u0430\u0439\u0441\u044f \u043c\u044b\u0441\u043b\u0435\u043d\u043d\u043e \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430\u043c."}),Object(G.jsx)(L,{}),Object(G.jsx)(J,{}),Object(G.jsx)(U,{})]})};o.a.render(Object(G.jsx)(r.a,{store:C,children:Object(G.jsx)(s.a.StrictMode,{children:Object(G.jsx)(K,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0ca0b4bd.chunk.js.map