(this.webpackJsonplabirint=this.webpackJsonplabirint||[]).push([[0],{21:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n.n(s),c=n(6),o=n.n(c),a=(n(21),n(2)),r=(n(28),n(29),n(8)),u=(n(30),n.p+"static/media/like.4f954970.svg"),l=n.p+"static/media/dislike.99ef78fa.svg",b=function(){var t=["up","right","down","left"];return t[Math.floor(Math.random()*t.length)]},m={moves:15,rows:4,columns:4},j={moves:10,rows:3,columns:3},p={moves:15,rows:3,columns:3},f="SET_GAME_STATE",O="TOGGLE_POPUP",h="SET_GAME_STATUS",d="TOGGLE_CLICKABLE",_=function(t){return{type:h,payload:{gameStatus:t}}},v=function(t){var e=t.moves,n=t.countDown,s=t.rows,i=t.columns,c=s*i,o=function(t,e){var n=Math.ceil(t),s=Math.floor(e);return Math.floor(Math.random()*(s-n)+n)}(1,c),a=function(t){for(var e=t.startPosition,n=t.rows,s=t.columns,i=t.tiles,c=e,o=t.moves,a=[],r=1;r<=o;r++){var u=b();switch(u){case"up":c>n?(a.push(u),c-=n):o++;break;case"down":c<=i-n?(a.push(u),c+=n):o++;break;case"right":c%s!==0?(a.push(u),c+=1):o++;break;case"left":c%s!==1?(a.push(u),c-=1):o++}}return{moveHistory:a,finishPosition:c}}({startPosition:o,rows:s,columns:i,tiles:c,moves:e}),r=a.moveHistory,u=a.finishPosition;return{type:f,payload:{moveHistory:r,finishPosition:u,countDown:n,tiles:c,startPosition:o}}},g=function(){return{type:O}},x=function(){return{type:d}},w=n(1),P=function(t){var e=t.position,n=Object(a.c)((function(t){return{startPosition:t.startPosition,finishPosition:t.finishPosition,gameStatus:t.gameStatus}})),i=n.startPosition,c=n.finishPosition,o=n.gameStatus,b=Object(a.b)(),m=Object(s.useState)(""),j=Object(r.a)(m,2),p=j[0],f=j[1];return Object(s.useEffect)((function(){""!==p&&b(_(p))}),[p]),Object(s.useEffect)((function(){""===o&&f("")}),[o]),Object(w.jsx)("li",{className:"Tile",children:Object(w.jsxs)("button",{type:"button",className:"Tile__button",onClick:function(){return t=e,b(x()),f(t===c?"win":"lose"),void setTimeout((function(){return b(g())}),2e3);var t},children:[Object(w.jsx)("p",{className:"Tile__text\n          ".concat(e===i&&""===p?e===c&&"lose"===o?"":"Tile__text_start_vis":""),children:"\u0421\u0442\u0430\u0440\u0442"}),Object(w.jsx)("p",{className:"Tile__text\n          ".concat(e===c&&"lose"===o?"Tile__text_finish_vis":""),children:"\u0424\u0438\u043d\u0438\u0448"}),Object(w.jsx)("img",{className:"Tile__image\n          ".concat(e!==c&&"lose"===p?"Tile__image_lose_vis":""),src:l,alt:"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(w.jsx)("img",{className:"Tile__image\n          ".concat(e===c&&"win"===p?"Tile__image_win_vis":""),src:u,alt:"\u043f\u043e\u0431\u0435\u0434\u0430"})]})})},C=function(){var t=Object(a.c)((function(t){return{tiles:t.tiles,isClickable:t.isClickable}})),e=t.tiles,n=t.isClickable,s=Array(e).fill().map((function(t,e){return e+1}));return Object(w.jsx)("ul",{className:"Tiles".concat(16===e?" Tiles_hard":"").concat(n?"":" Tiles_blocked"),children:s.map((function(t){return Object(w.jsx)(P,{position:t},t)}))})},S=n(16),T=(n(32),n(33),function(t){var e=t.direction;return Object(w.jsx)("li",{className:"Arrow Arrow_".concat(e),children:Object(w.jsx)("svg",{width:"65",height:"65",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M54.2808 33C54.2808 34.1046 53.3716 35 52.25 35H17.9464C23.7676 42.1112 27.6975 45.8639 34.2135 50.6464C35.1128 51.3064 35.2985 52.5594 34.6283 53.4451C33.9581 54.3308 32.6858 54.5137 31.7865 53.8537C23.9775 48.1223 19.6571 43.7223 12.148 34.2291C11.5878 33.5209 11.5754 32.532 12.1175 31.8104C18.6491 23.1171 22.776 18.4997 31.8178 12.1239C32.7297 11.4808 33.9982 11.6876 34.6512 12.5857C35.3041 13.4838 35.0941 14.7331 34.1822 15.3761C26.7381 20.6254 22.8627 24.5371 17.8191 31L52.25 31C53.3716 31 54.2808 31.8954 54.2808 33Z"})})})}),y=function(){var t=Object(a.c)((function(t){return{countDown:t.countDown,moveHistory:t.moveHistory,gameStatus:t.gameStatus}})),e=t.countDown,n=t.moveHistory,i=t.gameStatus,c=Object(a.b)(),o=Object(s.useState)([]),u=Object(r.a)(o,2),l=u[0],b=u[1];return Object(s.useEffect)((function(){""===i&&b([])}),[i]),Object(s.useEffect)((function(){l.length<n.length&&setTimeout((function(){var t=Object(w.jsx)(T,{direction:n[l.length]},l.length);b([].concat(Object(S.a)(l),[t])),l.length===n.length-1&&c(x())}),e)}),[l]),Object(w.jsx)("ul",{className:"Arrows",children:l})},N=(n(34),Object(s.memo)((function(){var t=Object(a.c)((function(t){return{popupOpened:t.popupOpened,gameStatus:t.gameStatus}})),e=t.popupOpened,n=t.gameStatus,s=Object(a.b)(),i=function(t){var e=t.rows,n=t.columns,i=t.moves;s(v({moves:i,rows:e,columns:n})),s(_("")),s(g())};return Object(w.jsxs)("div",{className:"Popup ".concat(e?"Popup_opened":""),children:[Object(w.jsx)("h1",{className:"Popup__title",children:"win"===n?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(w.jsx)("p",{className:"Popup__subtitle",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:"}),Object(w.jsxs)("ul",{className:"Popup__restart-menu",children:[Object(w.jsx)("li",{className:"Popup__restart-menu-item",children:Object(w.jsx)("button",{type:"button",className:"Popup__restart-menu-button",onClick:function(){return i(j)},children:"\u041b\u0435\u0433\u043a\u043e"})}),Object(w.jsx)("li",{className:"Popup__restart-menu-item",children:Object(w.jsx)("button",{type:"button",className:"Popup__restart-menu-button",onClick:function(){return i(p)},children:"\u0421\u0440\u0435\u0434\u043d\u0435"})}),Object(w.jsx)("li",{className:"Popup__restart-menu-item",children:Object(w.jsx)("button",{type:"button",className:"Popup__restart-menu-button",onClick:function(){return i(m)},children:"\u0421\u043b\u043e\u0436\u043d\u043e"})})]})]})}))),k=function(){var t=Object(a.c)((function(t){return{gameStatus:t.gameStatus,isClickable:t.isClickable}})),e=t.isClickable,n=t.gameStatus,i=Object(a.b)();return Object(s.useEffect)((function(){i(v({moves:10,countDown:300,rows:3,columns:3}))}),[]),Object(w.jsxs)("main",{className:"App",children:[Object(w.jsx)("h1",{className:"App__title",children:"\u041b\u0430\u0431\u0438\u0440\u0438\u043d\u0442"}),Object(w.jsx)("p",{className:"App__subtitle",children:e?"\u041f\u0440\u0438\u0448\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u043b\u0438\u043a\u0430\u0442\u044c":""!==n?"\u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430":"\u0414\u0432\u0438\u0433\u0430\u0439\u0441\u044f \u043c\u044b\u0441\u043b\u0435\u043d\u043d\u043e \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430\u043c."}),Object(w.jsx)(C,{}),Object(w.jsx)(y,{}),Object(w.jsx)(N,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,s=e.getFID,i=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),s(t),i(t),c(t),o(t)}))},A=n(4),M=n(14),H=n(15),D=n(3),L={moveHistory:[],moves:10,rows:3,columns:3,countDown:300,tiles:0,selectedPosition:null,finishPosition:null,startPosition:null,popupOpened:!1,gameStatus:"",isClickable:!1},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:var n=e.payload,s=n.moveHistory,i=n.startPosition,c=n.finishPosition,o=n.tiles;return Object(D.a)(Object(D.a)({},t),{},{moveHistory:s,startPosition:i,finishPosition:c,tiles:o});case h:var a=e.payload.gameStatus;return Object(D.a)(Object(D.a)({},t),{},{gameStatus:a});case O:return Object(D.a)(Object(D.a)({},t),{},{popupOpened:!t.popupOpened});case d:return Object(D.a)(Object(D.a)({},t),{},{isClickable:!t.isClickable});default:return t}},F=Object(A.createStore)(G,Object(M.composeWithDevTools)(Object(A.applyMiddleware)(H.a)));o.a.render(Object(w.jsx)(a.a,{store:F,children:Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(k,{})})}),document.getElementById("root")),E()}},[[35,1,2]]]);
//# sourceMappingURL=main.ca779a8d.chunk.js.map